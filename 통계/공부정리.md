# 공부한거 정리하기


## dataframe읽어오기
pd.read_csv("파일명", sep="\t")
> tab으로 구분시
sep = '\t'

> 한글이 들어있을 시
encoding = 'euc-kr'

## 5개 행만 출력
df.head(5)



## 행,열 출력
df.shape

## 변수명 출력
df.columns


## 6번째 컬럼 데이터 타입 확인
df.iloc\[:,5].dtype

## 데이터프레임 인덱스 확인
df.index


## 6번째 컬럼 2번째 값 출력
df.iloc\[2,5]



## 수치형 변수인 컬럼만 출력
df.select_dtypes(exclude=object).columns

> 범주형 변수인 컬럼만 출력은 
df.select_dtypes(include=object).columns


## 각 변수 결측치 개수 확인
df.isnull().sum()

> 특정 변수의 결측치 개수
df.변수명.isnull().sum()

## 각 변수의 데이터 수, 데이터 타입 한번에 확인
df.info()



## 각 수치형 변수의 분포확인
df\['거주인구']


## 평균속도 컬럼 IRQ(사분위범위) 구하기
Ans  = df\['평균 속도'].quantile(0.75) -df\['평균 속도'].quantile(0.25)

# 유일값

> 읍면동명 기준 유일값 전부 출력, 유일값 개수 구하기
df.읍면동명.unique()
df.읍면동명.nunique()

> 중복값 제거후 첫번째 값만 남기기
df.drop_duplicates('item_name')

## quantity값이 3인 데이터 추출
Ans = df.loc\[df\['quantity']==3]


## 변수명이 quantity, item_price로만 이루어진 새 df
df\[\['quantity', 'item_price']]


## item_price변수의 달러표시를 없애고 실수화 해서 new_price변수에 넣기
df\['new_price'] = df\['item_price'].str\[1:].astype('float')


## 특정 변수값 기준 오른차순 정렬
df.sort_values('new_price')

> ascending=False 시 내림차순 정렬

# str 
> 특정 변수값 포함하는 경우의 데이터 출력  - str.contains()
df.loc\[df.item_name.str.contains('Chips')]

> 특정 글자로 시작하는 데이터 출력 - str.startswith()
> 글자수 15개 이상 - str.len()
Ans= df\[df.item_name.str.len() >=15]

## 조건을 만족하는 특정 변수의 값 변경
df.loc\[df.item_name == 'Izze','item_name']= 'Fizzy Lizzy'


> df.loc\[df.item_name == 'Izze'].item_name= 'Fizzy Lizzy' 이게 안되네



## 변수가 특정 값 리스트에 포함되는지 확인 - isin(리스트)


----------------------------------------------------------

# groupby

> 변수 데이터의 각 빈도수 구하기 - groupby(변수명).size()
Ans = df.groupby('host_name').size()

> 변수 데이터의 각 최댓값 구하기 - groupby(변수명).max()

> 그룹별 특정 변수데이터의 최대,최소,평균,분산 등 구하기 - groupby.agg(\[])
Ans = df\[\['neighbourhood_group','price']].groupby('neighbourhood_group').agg(\['mean','var','max','min'])


> as_index=False옵션
그루핑 결과를 인덱스화 해서 주지말고 정규 열로 반환해라

> 빈도수 기준 내림차순
Ans = df.groupby('host_name').size().\
                to_frame().rename(columns={0:'counts'}).\
                sort_values('counts',ascending=False)

> groupby 여러 변수 기준 -> groupby(\[변수1,변수2])

> Nan값 -999로 채우기 -> fillna(-999)



##########################################

# df에서 특정 열의 결측치 제거
df.dropna(subset=[''],inplace=True)




#판다스 datetime으로 변경
pd.to_datetime()









#정규성 검정
from scipy.stats import shapiro

a_rpm = df.loc[df.group == 'A','rpm']
b_rpm = df.loc[df.group == 'B','rpm']

print(shapiro(a_rpm))
print(shapiro(b_rpm))

